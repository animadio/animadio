"use strict";class Animadio{static slider(t=2e3,e=!0,s=!1){new Slider(t,e,s)}static canvas(t=500,e=500,s=2,i="blue"){new Canvas(t,e,s,i)}static ajax(t,e=null,s=null){new Ajax(t,e,s)}}class Slider{constructor(t=2e3,e=!0,s=!1){this.slider=document.getElementById("slider"),this.slidesTriggers=this.slider.querySelectorAll("input"),this.slidesCount=this.slidesTriggers.length,this.previous=document.getElementById("slider-previous"),this.next=document.getElementById("slider-next"),this.index=-1,this.timer=null,this.timeout=t,this.auto=document.getElementById("slider-auto"),this.autoIcon=this.auto.querySelector("i"),this.autoState=e,this.random=document.getElementById("slider-random"),this.randomIcon=this.random.querySelector("i"),this.randomState=s,this.setControls(),this.runSlider()}setControls(){this.previous.addEventListener("click",this.goPrevious.bind(this)),this.next.addEventListener("click",this.goNext.bind(this)),this.auto.addEventListener("click",this.checkAuto.bind(this)),this.random.addEventListener("click",this.checkRandom.bind(this)),document.addEventListener("keydown",this.setKeyboard.bind(this))}runSlider(){this.autoState?this.timer=window.setInterval(this.goNext.bind(this),this.timeout):this.goNext()}getRandomInteger(t,e){return Math.floor(Math.random()*(e-t+1))+t}refreshSlide(){for(let t=0;t<this.slidesCount;t++)this.slidesTriggers[t].hasAttribute("checked")&&this.slidesTriggers[t].removeAttribute("checked");this.slidesTriggers[this.index].setAttribute("checked",!0)}goPrevious(){this.randomState?this.index=this.getRandomInteger(0,this.slidesCount-1):(this.index--,this.index<0&&(this.index=this.slidesCount-1)),this.refreshSlide()}goNext(){this.randomState?this.index=this.getRandomInteger(0,this.slidesCount-1):(this.index++,this.index>=this.slidesCount&&(this.index=0)),this.refreshSlide()}checkAuto(){this.autoState?(this.setAuto(!1,"Play","fa-play","fa-pause"),window.clearInterval(this.timer)):(this.setAuto(!0,"Pause","fa-pause","fa-play"),this.timer=window.setInterval(this.goNext.bind(this),this.timeout)),this.refreshSlide()}setAuto(t,e,s,i){this.autoState=t,this.auto.title=e,this.setIcon(this.autoIcon,s,i)}checkRandom(){this.randomState?this.setRandom(!1,"Random","fa-random","fa-long-arrow-alt-right"):this.setRandom(!0,"Normal","fa-long-arrow-alt-right","fa-random"),this.refreshSlide()}setRandom(t,e,s,i){this.randomState=t,this.random.title=e,this.setIcon(this.randomIcon,s,i)}setIcon(t,e,s){t.classList.add(e),t.classList.remove(s)}setKeyboard(t){switch(t.code){case"ArrowLeft":this.goPrevious();break;case"ArrowUp":this.checkAuto();break;case"ArrowDown":this.checkRandom();break;case"ArrowRight":this.goNext()}}}class Canvas{constructor(t=500,e=500,s=2,i="blue"){this.canvasElt=null,this.lineElt=null,this.colorElt=null,this.cleanerElt=null,this.context=null,this.startState=!1,this.endState=!1,this.mouseX=0,this.mouseY=0,this.touchX=0,this.touchY=0,this.getCanvasElt(),this.getLineElt(),this.getColorElt(),this.getCleanerElt(),this.setCanvas(t,e),this.setContext(s,i),this.setPanelListeners(),this.setCanvasListeners()}getCanvasElt(){document.getElementById("canvas")?this.canvasElt=document.getElementById("canvas"):alert('No <canvas id="canvas"> element is present!')}getLineElt(){document.getElementById("canvas-line")?this.lineElt=document.getElementById("canvas-line"):alert('No <input id="canvas-line"> element is present!')}getColorElt(){document.getElementById("canvas-color")?this.colorElt=document.getElementById("canvas-color"):alert('No <input id="canvas-color"> element is present!')}getCleanerElt(){document.getElementById("canvas-cleaner")?this.cleanerElt=document.getElementById("canvas-cleaner"):alert('No <button id="canvas-cleaner"> element is present!')}setCanvas(t,e){this.canvasElt&&(this.canvasElt.width=t,this.canvasElt.height=e)}setContext(t,e){this.canvasElt.getContext?(this.context=this.canvasElt.getContext("2d"),this.context.lineWidth=t,this.context.strokeStyle=e,this.context.lineCap="round",this.context.lineJoin="round"):alert("Your browser doesn't support <canvas> element!")}setPanelListeners(){this.lineElt&&this.lineElt.addEventListener("input",this.setLine.bind(this)),this.colorElt&&this.colorElt.addEventListener("input",this.setColor.bind(this)),this.cleanerElt&&this.cleanerElt.addEventListener("click",this.cleanCanvas.bind(this))}setCanvasListeners(){this.canvasElt&&(this.canvasElt.addEventListener("mousedown",this.moveInCanvas.bind(this,"mouse")),this.canvasElt.addEventListener("mousemove",this.drawInCanvas.bind(this,"mouse")),this.canvasElt.addEventListener("mouseup",this.stopDrawing.bind(this)),this.canvasElt.addEventListener("mouseout",this.stopDrawing.bind(this)),this.canvasElt.addEventListener("touchstart",this.moveInCanvas.bind(this,"touch")),this.canvasElt.addEventListener("touchmove",this.drawInCanvas.bind(this,"touch")),this.canvasElt.addEventListener("touchend",this.stopDrawing.bind(this)),this.canvasElt.addEventListener("touchcancel",this.stopDrawing.bind(this)))}setLine(){this.context.lineWidth=this.lineElt.value}setColor(){this.context.strokeStyle=this.colorElt.value}cleanCanvas(){this.context.clearRect(0,0,this.canvasElt.width,this.canvasElt.height),this.endState=!1}moveInCanvas(t,e){switch(this.startDrawing(),t){case"mouse":this.getMouseLocation(e),this.moveTo(e,this.mouseX,this.mouseY);break;case"touch":this.getTouchLocation(e),this.moveTo(e,this.touchX,this.touchY);break;default:alert('Event type must be "mouse" or "touch"!')}}drawInCanvas(t,e){if(this.startState)switch(t){case"mouse":this.getMouseLocation(e),this.lineTo(this.mouseX,this.mouseY);break;case"touch":this.getTouchLocation(e),this.lineTo(this.touchX,this.touchY);break;default:alert('Event type must be "mouse" or "touch"!')}}stopDrawing(){this.startState=!1,this.endState=!0}getMouseLocation(t){this.mouseX=t.offsetX,this.mouseY=t.offsetY}getTouchLocation(t){var e=t.target.getBoundingClientRect();this.touchX=t.targetTouches[0].clientX-e.left,this.touchY=t.targetTouches[0].clientY-e.top}startDrawing(){this.startState=!0,this.context.beginPath()}moveTo(t,e,s){this.context.moveTo(e,s),t.preventDefault()}lineTo(t,e){this.context.lineTo(t,e),this.context.stroke()}}class Ajax{constructor(t,e=null,s=null,i=!0){this.request=new XMLHttpRequest,this.url=t,this.callback=e,this.data=s,this.isJson=i,this.setCallback(),this.setAjax()}setCallback(){null===this.callback&&(this.callback=this.showResponse)}showResponse(t){alert(t)}setAjax(){this.data?this.postAjax():this.getAjax()}getAjax(){this.request.open("GET",this.url),this.runAjax()}postAjax(){this.request.open("POST",this.url),this.runAjax()}runAjax(){this.listenAjax(),this.checkJson(),this.request.send(this.data)}checkJson(){this.data&&this.isJson&&(this.request.setRequestHeader("Content-Type","application/json"),this.data=JSON.stringify(this.data))}listenAjax(){this.request.addEventListener("load",this.listenLoad.bind(this)),this.request.addEventListener("error",this.listenError.bind(this))}listenLoad(){200<=this.request.status&&this.request.status<400?this.callback(this.request.responseText):alert(this.request.status+" "+this.request.statusText+" "+this.url)}listenError(){alert("Network Error @URL => "+this.url)}}